<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <title>글쓰기</title>


    <script>

        function submitting() {
            let restaurant_name = $('#restaurantNameInput').val();
            let postcode = $('#sample4_postcode').val();
            let roadAddress = $('#sample4_roadAddress').val();
            let jibunAddress = $('#sample4_jibunAddress').val();
            let detailAddress = $('#sample4_detailAddress').val();
            let extraAddress = $('#sample4_extraAddress').val();
            let nickname = $('#nicknameInput').val();
            let comment = $('#commentInput').val();
            let rating = $('#rating').val();

            let formData = new FormData();

            formData.append("restaurant_name_give", restaurant_name);
            formData.append("postcode_give", postcode);
            formData.append("road_address_give", roadAddress);
            formData.append("jibun_address_give", jibunAddress);
            formData.append("detail_address_give", detailAddress);
            formData.append("extra_address_give", extraAddress);
            formData.append("nickname_give", nickname);
            formData.append("comment_give", comment);
            formData.append("rating_give", rating);



            fetch('/save-review', {
                method: "POST", body: formData
            })
                .then((res) => res.json())
                .then((data) => {
                    alert(data["msg"]);
                    window.location.reload();
                });
        }
    </script>

</head>

<body>
    <body>
        <header>
          <div class="hero">
            <h1>(Placeholder)</h1>
          </div>
        </header>
        <main>
          <form class="myForm">
            <div class="mb-3">
              <label for="inputGroupFile04" class="form-label"> 대표 이미지 </label>
              <input
                type="file"
                class="form-control"
                id="inputGroupFile04"
                aria-describedby="inputGroupFileAddon04"
                aria-label="Upload"
              />
            </div>
            <div class="mb-3">
              <label for="restaurantNameInput" class="form-label" required>
                가게 이름
              </label>
              <input type="text" class="form-control" id="restaurantNameInput" />
            </div>
            <div class="mb-3">
              <label for="sample4_postcode" class="form-label">주소</label>
              <input
                class="form-control"
                type="text"
                id="sample4_postcode"
                placeholder="우편번호"
              />
              <input
                class="btn btn-light"
                type="button"
                onclick="sample4_execDaumPostcode()"
                value="우편번호 찾기"
              /><br />
              <input
                class="form-control"
                type="text"
                id="sample4_roadAddress"
                placeholder="도로명주소"
              />
              <input
                class="form-control"
                type="text"
                id="sample4_jibunAddress"
                placeholder="지번주소"
              />
              <span id="guide" style="color: #999; display: none"></span>
              <input
                class="form-control"
                type="text"
                id="sample4_detailAddress"
                placeholder="상세주소"
              />
              <input
                class="form-control"
                type="text"
                id="sample4_extraAddress"
                placeholder="참고항목"
              />
            </div>
            <div class="mb-3">
              <label for="nicknameInput" class="form-label">닉네임</label>
              <input type="text" class="form-control" id="nicknameInput" />
            </div>
            <div class="mb-3">
              <label for="commentInput" class="form-label">코멘트</label>
              <textarea class="form-control" id="commentInput" rows="4"></textarea>
            </div>
            <div form="rating" class="mb-3">
              <label for="rating" class="form-label" required>별점</label>
              <select
                id="rating"
                class="form-select form-select-sm"
                aria-label=".form-select-sm example"
              >
                <option value="5" selected>✨✨✨✨✨</option>
                <option value="4">✨✨✨✨</option>
                <option value="3">✨✨✨</option>
                <option value="2">✨✨</option>
                <option value="1">✨</option>
              </select>
            </div>
            <div
              id="map"
              style="width: 300px; height: 300px; margin-top: 10px; display: none"
            ></div>
            <div class="myBtns">
              <button onclick="submitting()" id="submitBtn" type="submit" class="btn btn-light">
                등록
              </button>
              <button id="cancleBtn" class="btn btn-light">취소</button>
            </div>
          </form>
        </main>
</body>

</html>